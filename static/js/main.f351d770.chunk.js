(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,n){t.exports=n.p+"static/media/preloader.7361e6fb.svg"},32:function(t,e,n){t.exports=n(62)},37:function(t,e,n){},38:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),c=n(8),r=n.n(c),o=(n(37),n(38),n(3)),s=n(10),f=n(2),u={gifData:[],offsetCount:25,isFetching:!1,searchText:""};function g(t){return{type:"TOGGLE-IS-FETCHING",isFetching:t}}var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET-GIF":return Object(f.a)(Object(f.a)({},t),{},{gifData:[].concat(Object(s.a)(t.gifData),Object(s.a)(e.gifData))});case"SET-GIF":return Object(f.a)(Object(f.a)({},t),{},{gifData:Object(s.a)(e.gifData)});case"TOGGLE-IS-FETCHING":return Object(f.a)(Object(f.a)({},t),{},{isFetching:e.isFetching});case"ADD-OFFSET-COUNT":return Object(f.a)(Object(f.a)({},t),{},{offsetCount:t.offsetCount+e.offsetCount});case"CHANGE-SEARCH-TEXT":return Object(f.a)(Object(f.a)({},t),{},{searchText:e.newSearchText});default:return t}},p=n(24),h=Object(o.c)({gif:l}),d=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,m=Object(o.e)(h,d(Object(o.a)(p.a)));window.store=m;var E=m,G=n(4),T=n(26),v=n(27),O=n(31),b=n(29),y=n(30),I=n(7),_=n.n(I),F=n(14),j=n.n(F);function S(t){var e=Object(a.useState)(!0),n=Object(y.a)(e,2),c=n[0],r=n[1];return i.a.createElement("div",{className:_.a.gif_item},i.a.createElement("img",{src:j.a,style:c?{display:"block"}:{display:"none"}}),i.a.createElement("img",{onLoad:function(){return r(!1)},src:t.gif,style:c?{visibility:"hidden"}:{visibility:"visible"}}))}var w=function(t){var e=t.gifData.map((function(t){return i.a.createElement(S,{key:t.id,gif:t.images.downsized_large.url})}));return t.isFetching?i.a.createElement("div",{className:_.a.gifBlock},i.a.createElement("img",{className:_.a.preloader,src:j.a})):i.a.createElement("div",{className:_.a.gifBlock,onScroll:function(e){return function(e){e.target.scrollTop+e.target.offsetHeight==e.target.scrollHeight&&t.moreGif()}(e)}},e)},C=n(5),D=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(T.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).moreGif=function(){C.get(t.props.searchText&&""!=t.props.searchText?"https://api.giphy.com/v1/gifs/search?api_key=mTweuzAM6GLdLGsSoiIRzJE8IdId1iAI&q=".concat(t.props.searchText,"&limit=25&offset=").concat(t.props.offsetCount,"&rating=G&lang=en"):"https://api.giphy.com/v1/gifs/trending?api_key=mTweuzAM6GLdLGsSoiIRzJE8IdId1iAI&limit=25&rating=G&offset=".concat(t.props.offsetCount)).then((function(e){t.props.getGif(e.data.data)})),t.props.addOffsetCount(25)},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.setFetching(!0),C.get("https://api.giphy.com/v1/gifs/trending?api_key=mTweuzAM6GLdLGsSoiIRzJE8IdId1iAI&limit=25&rating=G").then((function(e){t.props.getGif(e.data.data),t.props.setFetching(!1)}))}},{key:"render",value:function(){return i.a.createElement(w,{gifData:this.props.gifData,moreGif:this.moreGif,isFetching:this.props.isFetching})}}]),n}(i.a.Component),x=Object(G.b)((function(t){return{gifData:t.gif.gifData,offsetCount:t.gif.offsetCount,isFetching:t.gif.isFetching,searchText:t.gif.searchText}}),(function(t){return{getGif:function(e){t(function(t){return{type:"GET-GIF",gifData:t}}(e))},setFetching:function(e){t(g(e))},addOffsetCount:function(e){t(function(t){return{type:"ADD-OFFSET-COUNT",offsetCount:t}}(e))}}}))(D),k=n(28);var A=function(t){return i.a.createElement("header",null,i.a.createElement("div",{className:"head"},i.a.createElement("div",{className:"logo"},"GIF"),i.a.createElement("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a..",onChange:function(e){var n=e.currentTarget.value;Object(k.a)(300,(function(){t.setFetching(!0),""===n?C.get("https://api.giphy.com/v1/gifs/trending?api_key=mTweuzAM6GLdLGsSoiIRzJE8IdId1iAI&limit=25&rating=G").then((function(e){t.setGif(e.data.data),t.setFetching(!1)})):C.get("https://api.giphy.com/v1/gifs/search?api_key=mTweuzAM6GLdLGsSoiIRzJE8IdId1iAI&q=".concat(n,"&limit=25&offset=0&rating=G&lang=en")).then((function(e){t.setGif(e.data.data),t.setFetching(!1)}))}))(),t.setSearchText(n)},value:t.searchText})))},L=Object(G.b)((function(t){return{searchText:t.gif.searchText}}),(function(t){return{setGif:function(e){t(function(t){return{type:"SET-GIF",gifData:t}}(e))},setSearchText:function(e){t(function(t){return{type:"CHANGE-SEARCH-TEXT",newSearchText:t}}(e))},setFetching:function(e){t(g(e))}}}))(A);var N=function(){return i.a.createElement(G.a,{store:E},i.a.createElement(L,null),i.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,e,n){t.exports={gifBlock:"gif_gifBlock__DnKsi",preloader:"gif_preloader__2exB6",animatetop:"gif_animatetop__25QLH",gif_item:"gif_gif_item__2iuEK"}}},[[32,1,2]]]);
//# sourceMappingURL=main.f351d770.chunk.js.map